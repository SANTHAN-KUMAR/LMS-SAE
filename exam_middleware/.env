# ===========================================
# Examination Middleware Configuration
# ===========================================

# Application Settings
APP_NAME="Exam Submission Middleware"
APP_VERSION="1.0.0"
DEBUG=true
SECRET_KEY="exam-middleware-secret-key-change-this-in-production"
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Server Configuration
HOST=127.0.0.1
PORT=8000
RELOAD=true

# ===========================================
# PostgreSQL Database Configuration
# ===========================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_DB=exam_middleware
DATABASE_URL=postgresql+asyncpg://neondb_owner:npg_guFHD8toPL0V@ep-lingering-block-a10ji25j-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require

# ===========================================
# Redis Configuration (for sessions & queue)
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# ===========================================
# Moodle LMS Configuration
# ===========================================
MOODLE_BASE_URL=https://hydrocephalic-kyla-sleuthlike.ngrok-free.dev
MOODLE_WS_ENDPOINT=/webservice/rest/server.php
MOODLE_UPLOAD_ENDPOINT=/webservice/upload.php
MOODLE_TOKEN_ENDPOINT=/login/token.php
MOODLE_SERVICE=moodle_mobile_app

# Admin token for service account operations
MOODLE_ADMIN_TOKEN=c53569d516cd601cb78849cd64f59eaa

# ===========================================
# File Storage Configuration
# ===========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE_MB=50
ALLOWED_EXTENSIONS=.pdf,.jpg,.jpeg,.png

# ===========================================
# ML Service Configuration
# ===========================================
ML_SERVICE_URL=http://localhost:8501
ML_SERVICE_ENABLED=false

# ===========================================
# Subject to Assignment Mapping (Initial)
# ===========================================
SUBJECT_19AI405_ASSIGNMENT_ID=2
SUBJECT_19AI411_ASSIGNMENT_ID=3
SUBJECT_ML_ASSIGNMENT_ID=1

# ===========================================
# Logging Configuration
# ===========================================
LOG_LEVEL=DEBUG
LOG_FILE=./logs/app.log

# ===========================================
# CORS Configuration
# ===========================================
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://127.0.0.1:8000"]
